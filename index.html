<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ControlsApp - LOGIN</title>
    <link rel="stylesheet" href="./src/output.css">
</head>
<body>
    <main class="container text-center mx-auto">
        <h1 class="text-2xl py-20">SELAMAT DATANG!</h1>
        <form class="fieldset w-xs bg-base-200 border border-base-300 p-4 rounded-box mx-auto" action="/home.html">
            <legend class="fieldset-legend">Login</legend>
            
            <label class="fieldset-label">Nama<span class="text-red-600">*</span></label>
            <input type="text" class="input" placeholder="Nama" id="Nama" required/>
            
            <label class="fieldset-label">IP RELAY<span class="text-red-600">*</span></label>
            <input type="tel" class="input" placeholder="IP-RELAY" id="Ip-Relay" pattern="^\d+(\.\d{1,3}){0,3}$" title="Tuliskan Alamat IP Sesuai Pada LCD Relay" required/>
            
            <button type="submit" class="btn btn-neutral mt-4" id="Login-btn">Login</button>
        </form>
    </main>
    <script>
        document.querySelector('#Login-btn').addEventListener('click', () =>{
            const Nama = document.querySelector('#Nama').value;
            const Ip = document.querySelector('#Ip-Relay').value;
            const dotCount = (Ip.match(/\./g) || []).length;
            if (Nama.length <= 1  || dotCount < 3) {
                alert('Login Gagal')
            }else{
                localStorage.setItem('nama', Nama);
                localStorage.setItem('Ip', Ip);
                localStorage.setItem('Lamp', false);
                document.location.href = "/home.html"
            }
        })
    </script>
</body>
</html>